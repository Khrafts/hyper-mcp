# Developer Guide> **Build the future of AI-DeFi integration** - comprehensive guide for contributors and developers ğŸš€Welcome to the **hl-eco-mcp** developer documentation. Whether you're contributing community protocols, extending core functionality, or building on our platform, this guide has everything you need.## ğŸ—ï¸ System Architecture### Core Components`hl-eco-mcp/â”œâ”€â”€ src/â”‚   â”œâ”€â”€ server/           # MCP Server Coreâ”‚   â”‚   â”œâ”€â”€ MCPServer.ts        # Main server implementationâ”‚   â”‚   â”œâ”€â”€ ToolRegistry.ts     # Tool management and routingâ”‚   â”‚   â””â”€â”€ SessionManager.ts   # Client session handlingâ”‚   â”œâ”€â”€ adapters/         # Protocol Integrationsâ”‚   â”‚   â””â”€â”€ hyperliquid/       # HyperLiquid DEX integrationâ”‚   â”œâ”€â”€ tools/            # MCP Tool Implementationsâ”‚   â”‚   â”œâ”€â”€ HyperLiquidTools.ts    # Trading and market dataâ”‚   â”‚   â”œâ”€â”€ ExecutionTools.ts      # Smart execution algorithmsâ”‚   â”‚   â”œâ”€â”€ RiskManagementTools.ts # Portfolio risk analysisâ”‚   â”‚   â””â”€â”€ MarketIntelligence.ts  # Analytics and insightsâ”‚   â”œâ”€â”€ community/        # Community Protocol Systemâ”‚   â”‚   â”œâ”€â”€ validation/        # Protocol validation logicâ”‚   â”‚   â”œâ”€â”€ generation/        # MCP tool generationâ”‚   â”‚   â”œâ”€â”€ loading/           # Protocol loading and cachingâ”‚   â”‚   â””â”€â”€ github/            # GitHub PR workflow integrationâ”‚   â”œâ”€â”€ utils/            # Shared Utilitiesâ”‚   â”‚   â”œâ”€â”€ ApiClient.ts       # HTTP client with retriesâ”‚   â”‚   â”œâ”€â”€ RateLimiter.ts     # Rate limiting and throttlingâ”‚   â”‚   â””â”€â”€ logger.ts          # Structured loggingâ”‚   â””â”€â”€ websocket/        # Real-time Data Feedsâ”‚       â””â”€â”€ HyperLiquidWS.ts   # WebSocket connectionsâ”œâ”€â”€ protocols/        # Community Protocol Definitionsâ”‚   â””â”€â”€ gluex-protocol.json  # Example protocolâ””â”€â”€ tests/            # Comprehensive Test Suite    â”œâ”€â”€ tools/             # Tool testing    â”œâ”€â”€ adapters/          # Integration testing    â””â”€â”€ community/         # Community system testing`### Key Design Principles- **ğŸ”Œ Modular Architecture**: Each component has clear boundaries and responsibilities- **âš¡ Performance First**: Optimized for high-throughput AI agent interactions- **ğŸ›¡ï¸ Security Built-in**: Authentication, validation, and rate limiting at every layer- **ğŸ”„ Community-Driven**: Easy extension points for community contributions- **ğŸ“Š Observable**: Comprehensive logging, metrics, and monitoring## ğŸ“ Development Standards### Code Quality Requirements- **TypeScript Strict Mode**: All code must pass `tsc --strict`- **Linting**: ESLint + Prettier must pass (`pnpm run lint`)- **Testing**: >85% code coverage target- **Documentation**: All public APIs must be documented### Architecture Patterns- **ğŸ“‹ Zod Schemas**: All input validation uses Zod for type safety- **ğŸ“Š Structured Logging**: Use `createComponentLogger` for consistent logging- **âš¡ Async/Await**: Modern Promise-based asynchronous patterns- **ğŸ›¡ï¸ Error Handling**: Comprehensive error boundaries and graceful degradation## âš™ï¸ Development Scripts`bash# Developmentpnpm run dev          # Hot reload development serverpnpm run build        # Production buildpnpm start           # Run production build# Quality Assurancepnpm run typecheck    # TypeScript type checkingpnpm run lint         # ESLint + Prettier checkingpnpm run lint:fix     # Auto-fix linting issuespnpm run test         # Run Jest test suitepnpm run test:watch   # Watch mode testingpnpm run test:coverage # Coverage report# Protocol Managementpnpm run validate protocols/my-protocol.json  # Validate protocolpnpm run test-protocol protocols/my-protocol.json  # Test protocol`## ğŸš€ Local Development Setup### Quick Start`bash# Clone and setupgit clone https://github.com/khrafts/hyper-mcp.gitcd hyper-mcppnpm install# Configure environmentcp .env.example .env# Edit .env with your configuration# Start development serverpnpm run dev`### Development EnvironmentThe development server provides:- **ğŸ”„ Hot Reload**: Automatic restart on code changes- **ğŸ“Š Debug Logging**: Verbose logging for development- **âš¡ Fast Builds**: Optimized TypeScript compilation- **ğŸ§ª Mock Mode**: Test without external API dependencies`bash# Development with mocked APIs (no external calls)MOCK_EXTERNAL_APIS=true pnpm run dev# Development with debug loggingLOG_LEVEL=debug pnpm run dev`## ğŸ¤ Contributing### Types of Contributions#### 1. Community Protocol Contributions (Most Common)**No coding required!** Add your protocol via JSON definition:`bash# 1. Fork the repositorygit clone https://github.com/your-username/hyper-mcp.git# 2. Create your protocol definitioncp protocols/gluex-protocol.json protocols/my-protocol.json# Edit with your API details...# 3. Validate your protocolpnpm run validate protocols/my-protocol.json# 4. Submit PRgit add protocols/my-protocol.jsongit commit -m "feat: add my-protocol integration"git push origin feature/my-protocol# Open PR - automatic validation and tool generation!`#### 2. Core HyperLiquid Tool DevelopmentExtend the built-in HyperLiquid integration:`typescript// src/tools/HyperLiquidTools.tsexport const myNewTool: ToolDefinition = {  name: 'hyperliquid_my_new_feature',  description: 'New HyperLiquid functionality',  inputSchema: z.object({    // Zod schema for inputs  }),  handler: async (args) => {    // Implementation  }};// Register in SimpleAdapterManager`#### 3. Community System ExtensionEnhance the community protocol system:- **Protocol Validation**: Extend `src/community/validation/`- **Tool Generation**: Enhance `src/community/generation/` - **Protocol Loading**: Modify `src/community/loading/`- **GitHub Integration**: Update `src/community/github/`### Validation Requirements#### Protocol Validation`json{  "name": "protocol-name",          // Required: alphanumeric + hyphens  "version": "1.0.0",              // Required: semantic versioning  "description": "Protocol desc",   // Required: min 10 characters  "author": "Your Name",            // Required: attribution  "license": "MIT",                // Required: open source license  "endpoints": [...]               // Required: at least 1 endpoint}`#### Security Validation- âœ… HTTPS URLs only- âœ… No hardcoded secrets- âœ… Rate limiting configuration- âœ… Input validation schemas- âœ… Authentication configuration#### Business Logic Validation- âœ… Maximum 50 endpoints per protocol- âœ… No duplicate endpoint names- âœ… Valid parameter definitions- âœ… Consistent authentication setup## ğŸ§ª Testing Strategy### Test Categories`bash# Unit Tests - Individual componentspnpm test tests/tools/pnpm test tests/adapters/# Integration Tests - End-to-end workflowspnpm test tests/integration/# Community Protocol Tests - Protocol validationpnpm test tests/community/# Coverage Reportpnpm run test:coverage`### Testing Standards- **ğŸ¯ Coverage Target**: >85% code coverage- **ğŸ§ª Mock External APIs**: Use mocks for all external services- **ğŸ”„ CI Integration**: All tests must pass before merge- **ğŸ“Š Performance Tests**: Load testing for high-throughput scenarios### Example Test Structure`typescriptdescribe('HyperLiquidTools', () => {  describe('hyperliquid_get_account_info', () => {    it('should return account info successfully', async () => {      // Mock adapter response      const mockAdapter = createMockAdapter();      mockAdapter.getAccountInfo.mockResolvedValue(mockAccountData);            const result = await tools.handleToolCall('hyperliquid_get_account_info', {});            expect(result).toMatchObject({        success: true,        data: expect.objectContaining({          account: expect.any(String),          marginSummary: expect.any(Object)        })      });    });  });});`## ğŸš€ CI/CD Pipeline### GitHub Actions Workflow`yamlname: CI/CD Pipelineon: [push, pull_request]jobs:  quality-checks:    runs-on: ubuntu-latest    steps:      - name: TypeScript Check        run: pnpm run typecheck      - name: Linting        run: pnpm run lint      - name: Test Suite        run: pnpm run test:coverage      - name: Build Verification        run: pnpm run build      - name: Docker Build        run: docker build -t hl-eco-mcp .`### Pre-commit Hooks`bash# Automatic checks before every commit- ESLint + Prettier formatting- TypeScript compilation- Test execution- Protocol validation (if protocols/ changed)`### Release Process1. **Version Bump**: Semantic versioning (major.minor.patch)2. **Tag Release**: Git tag with release notes3. **NPM Publish**: Automatic publication to npm registry4. **Docker Images**: Multi-arch container builds5. **Documentation**: GitBook sync for documentation updates## ğŸ“Š Monitoring & Observability### Development Metrics- **Code Coverage**: Jest coverage reports- **Performance**: Benchmark tests for critical paths- **Protocol Health**: Community protocol validation results- **Usage Analytics**: Tool usage patterns and performance### Production Monitoring- **ğŸ“Š Server Metrics**: Request rates, response times, error rates- **ğŸ”— Integration Health**: HyperLiquid and community protocol status- **ğŸ›¡ï¸ Security**: Rate limiting, authentication failures, suspicious activity- **ğŸ’» Resource Usage**: Memory, CPU, network utilization---**ğŸ† Ready to Contribute?** Start with a community protocol submission - it's the fastest way to add value to the ecosystem! See [CONTRIBUTING.md](../../CONTRIBUTING.md) for detailed instructions.
